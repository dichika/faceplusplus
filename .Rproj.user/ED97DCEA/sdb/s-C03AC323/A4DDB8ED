{
    "contents" : "getDetect <- function(file, secret=options()$FACEPP_SECRET, key=options()$FACEPP_KEY){\n  require(\"httr\")\n  if(grepl(\"^http|^https\", file)){\n    u <- sprintf(\"https://apius.faceplusplus.com/v2/detection/detect?url=%s&api_secret=%s&api_key=%s&attribute=glass,pose,gender,age,race,smiling\",\n                 file,secret,key\n    )\n    res <- GET(u)\n  } else{\n    u <- sprintf(\"https://apius.faceplusplus.com/v2/detection/detect?api_secret=%s&api_key=%s&attribute=glass,pose,gender,age,race,smiling\",\n                 secret, key\n    )\n    res <- POST(u, body=list(img=upload_file(file)))    \n  }\n  res <- content(res, as=\"text\")\n  res <- jsonlite::fromJSON(res)\n  return(res$face)\n}\n\nphoto2AgefromMac <- function(){\n  old <- setwd(\"~/Pictures/iPhoto Library.photolibrary/Masters/\")\n  f <- file.choose()\n  setwd(old)\n  res <- getDetect(f)\n}",
    "created" : 1430453766530.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3651943330",
    "id" : "A4DDB8ED",
    "lastKnownWriteTime" : 1430460654,
    "path" : "~/faceplusplus/R/faceplusplus.R",
    "project_path" : "R/faceplusplus.R",
    "properties" : {
    },
    "source_on_save" : false,
    "type" : "r_source"
}